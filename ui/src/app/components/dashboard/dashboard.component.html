<div class="wrapper">
  <app-navbar></app-navbar>
  <app-sidebar></app-sidebar>
  <div class="content-wrapper" style="min-height: 946px;">
    <div *ngIf="error.error" class="alert alert-danger alert-dismissible">
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true" (click)="onAlertDismiss()">×</button>
      {{ error.error.error.displayMessage }}
      <button class="btn-link" style="color: #fff" (click)="showErrorInfo()">More info</button>
    </div>
    <router-outlet></router-outlet>
  </div>
  <footer class="main-footer">
    <div class="pull-right hidden-xs">
      <b>Version</b> 0.0.1
    </div>
    <strong>Copyright © 2018 <a href="http://www.dbmi.pitt.edu">DBMI@PITT</a>.</strong> All rights
    reserved.
  </footer>
</div>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Are you still there?</h4>
      </div>
      <div class="modal-body">
        {{ idleState }}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="reset()">Wait! I am here.</button>
      </div>
    </div>
  </div>
</div>

<!-- Error Modal -->
<div class="modal fade" id="myErrorModal" tabindex="-1" role="dialog" aria-labelledby="myErrorModalLabel">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myErrorModalLabel">Error Message</h4>
        </div>
        <div class="modal-body">
          <h4>{{ error?.error?.message }}</h4>
          {{ error?.error?.error?.longMessage }}
          <div class="row">
            <div class="col-md-4 col-md-offset-4">
              <button (click)="showStackTrace = !showStackTrace" class="btn btn-link">{{ showStackTrace ? "Hide Stack Trace" : "Show Stack Trace" }}</button>
            </div>
          </div>
          <div *ngIf="showStackTrace" style="overflow: auto;">
            {{ error?.error?.error?.stackTrace }}
          </div>
        </div>
        <div class="modal-footer">
          
        </div>
      </div>
    </div>
  </div>